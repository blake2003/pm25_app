# AQI æ™‚é–“éæ¿¾åŠŸèƒ½é–‹ç™¼æ¸¬è©¦èˆ‡è¨­è¨ˆè¦ç¯„

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

AQI æ™‚é–“éæ¿¾åŠŸèƒ½å…è¨±ä½¿ç”¨è€…æ ¹æ“šä¸åŒçš„æ™‚é–“ç¯„åœä¾†ç¯©é¸å’ŒæŸ¥çœ‹ç©ºæ°£å“è³ªè³‡æ–™ï¼Œæä¾›éˆæ´»çš„è³‡æ–™æª¢è¦–é¸é …ï¼Œæ»¿è¶³ä¸åŒä½¿ç”¨å ´æ™¯çš„éœ€æ±‚ã€‚

## ğŸ¯ éœ€æ±‚åˆ†æ

### 1. åŠŸèƒ½éœ€æ±‚

#### 1.1 æ ¸å¿ƒéœ€æ±‚
- **æ™‚é–“ç¯„åœé¸æ“‡**: æ”¯æ´å¤šç¨®é è¨­æ™‚é–“ç¯„åœï¼ˆ1å°æ™‚ã€3å°æ™‚ã€6å°æ™‚ã€12å°æ™‚ã€24å°æ™‚ï¼‰
- **å‹•æ…‹éæ¿¾**: æ ¹æ“šé¸æ“‡çš„æ™‚é–“ç¯„åœç²å–éå»æ™‚é–“çš„è³‡æ–™
- **è³‡æ–™å®Œæ•´æ€§**: ç¢ºä¿ç²å–çš„è³‡æ–™åŒ…å«æ‰€æœ‰å¿…è¦è³‡è¨Š
- **æ•ˆèƒ½å„ªåŒ–**: é¿å…ä¸å¿…è¦çš„è³‡æ–™è™•ç†å’Œ UI é‡å»º

#### 1.2 ä½¿ç”¨è€…éœ€æ±‚
- **å¿«é€Ÿåˆ‡æ›**: ä½¿ç”¨è€…å¯ä»¥å¿«é€Ÿåœ¨ä¸åŒæ™‚é–“ç¯„åœé–“åˆ‡æ›
- **è¦–è¦ºå›é¥‹**: æ¸…æ¥šé¡¯ç¤ºç•¶å‰é¸æ“‡çš„æ™‚é–“ç¯„åœ
- **è³‡æ–™æ¨™è¨˜**: å€åˆ†æ–°èˆŠè³‡æ–™ï¼Œå¹«åŠ©ä½¿ç”¨è€…ç†è§£è³‡æ–™æ™‚æ•ˆæ€§
- **é™¤éŒ¯è³‡è¨Š**: åœ¨é–‹ç™¼æ¨¡å¼ä¸‹æä¾›è©³ç´°çš„éæ¿¾è³‡è¨Š

#### 1.3 æŠ€è¡“éœ€æ±‚
- **å‘å¾Œç›¸å®¹**: ä¿æŒèˆ‡ç¾æœ‰ API çš„ç›¸å®¹æ€§
- **ç‹€æ…‹ç®¡ç†**: ä½¿ç”¨ Provider é€²è¡Œç‹€æ…‹ç®¡ç†
- **éŸ¿æ‡‰å¼æ›´æ–°**: æ™‚é–“ç¯„åœè®Šæ›´æ™‚è‡ªå‹•æ›´æ–° UI
- **éŒ¯èª¤è™•ç†**: å¦¥å–„è™•ç†è³‡æ–™ç²å–éç¨‹ä¸­çš„ç•°å¸¸æƒ…æ³

### 2. éåŠŸèƒ½éœ€æ±‚

#### 2.1 æ•ˆèƒ½éœ€æ±‚
- **éæ¿¾é€Ÿåº¦**: éæ¿¾æ“ä½œæ‡‰åœ¨ 100ms å…§å®Œæˆ
- **è¨˜æ†¶é«”ä½¿ç”¨**: é¿å…éåº¦è¤‡è£½è³‡æ–™ï¼Œå„ªåŒ–è¨˜æ†¶é«”ä½¿ç”¨
- **UI éŸ¿æ‡‰**: éæ¿¾éç¨‹ä¸­ä¿æŒ UI éŸ¿æ‡‰æ€§

#### 2.2 å¯ç”¨æ€§éœ€æ±‚
- **ç›´è§€æ“ä½œ**: ä½¿ç”¨è€…å¯ä»¥ç›´è§€åœ°é¸æ“‡æ™‚é–“ç¯„åœ
- **ä¸€è‡´æ€§**: èˆ‡ iOS è¨­è¨ˆè¦ç¯„ä¿æŒä¸€è‡´
- **ç„¡éšœç¤™**: æ”¯æ´ç„¡éšœç¤™åŠŸèƒ½

## ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

### 1. æ ¸å¿ƒæ¶æ§‹

#### 1.1 è³‡æ–™æµè¨­è¨ˆ
```
ä½¿ç”¨è€…é¸æ“‡æ™‚é–“ç¯„åœ â†’ AqiProvider.setTimeFilter() â†’ æ›´æ–°éæ¿¾é‚è¼¯ â†’ é‡æ–°è¨ˆç®— filteredRecords â†’ é€šçŸ¥ UI æ›´æ–° â†’ é‡æ–°æ¸²æŸ“è³‡æ–™åˆ—è¡¨
```

#### 1.2 çµ„ä»¶æ¶æ§‹
```
AqiProvider (ç‹€æ…‹ç®¡ç†)
â”œâ”€â”€ TimeFilterOption (æšèˆ‰å®šç¾©)
â”œâ”€â”€ filteredRecords (è¨ˆç®—å±¬æ€§)
â”œâ”€â”€ setTimeFilter() (æ–¹æ³•)
â””â”€â”€ isRecordInSelectedTimeRange() (æ–¹æ³•)

AqiDataPage (UI çµ„ä»¶)
â”œâ”€â”€ _showTimeFilterPicker() (é¸æ“‡å™¨)
â”œâ”€â”€ _buildAqiRecordCard() (å¡ç‰‡æ¸²æŸ“)
â””â”€â”€ Consumer<AqiProvider> (ç‹€æ…‹ç›£è½)
```

### 2. è³‡æ–™æ¨¡å‹è¨­è¨ˆ

#### 2.1 TimeFilterOption æšèˆ‰
```dart
enum TimeFilterOption {
  oneHour('1å°æ™‚', Duration(hours: 1)),
  threeHours('3å°æ™‚', Duration(hours: 3)),
  sixHours('6å°æ™‚', Duration(hours: 6)),
  twelveHours('12å°æ™‚', Duration(hours: 12)),
  twentyFourHours('24å°æ™‚', Duration(hours: 24)),
  allData('å…¨éƒ¨è³‡æ–™', null);
}
```

#### 2.2 éæ¿¾é‚è¼¯è¨­è¨ˆ
```dart
List<AqiRecord> get filteredRecords {
  if (_selectedTimeFilter.duration != null) {
    final filterTime = DateTime.now().subtract(_selectedTimeFilter.duration!);
    return _records.where((record) => 
      record.datacreationdate.isAfter(filterTime)).toList();
  } else {
    return List<AqiRecord>.from(_records);
  }
}
```

## ğŸ¨ UI/UX è¨­è¨ˆè¦ç¯„

### 1. è¨­è¨ˆåŸå‰‡

#### 1.1 ä¸€è‡´æ€§åŸå‰‡
- éµå¾ª iOS Human Interface Guidelines
- ä½¿ç”¨ Cupertino è¨­è¨ˆèªè¨€
- ä¿æŒèˆ‡æ‡‰ç”¨ç¨‹å¼æ•´é«”é¢¨æ ¼ä¸€è‡´

#### 1.2 å¯ç”¨æ€§åŸå‰‡
- æ“ä½œæµç¨‹ç°¡å–®ç›´è§€
- æä¾›æ¸…æ™°çš„è¦–è¦ºå›é¥‹
- æ”¯æ´å¿«é€Ÿåˆ‡æ›å’Œå–æ¶ˆæ“ä½œ

### 2. ä»‹é¢è¨­è¨ˆ

#### 2.1 å°èˆªæ¬„æŒ‰éˆ•è¨­è¨ˆ
```dart
CupertinoButton(
  child: Row(
    children: [
      Icon(CupertinoIcons.clock_fill, size: 20),
      Text(selectedTimeFilter.label),
      Icon(CupertinoIcons.chevron_down, size: 12),
    ],
  ),
)
```

#### 2.2 æ™‚é–“é¸æ“‡å™¨è¨­è¨ˆ
```dart
CupertinoActionSheet(
  title: Text('é¸æ“‡æ™‚é–“ç¯„åœ'),
  message: Text('é¸æ“‡è¦é¡¯ç¤ºçš„è³‡æ–™æ™‚é–“ç¯„åœ'),
  actions: availableTimeFilters.map((option) => 
    CupertinoActionSheetAction(
      child: Row(
        children: [
          Text(option.label),
          if (option == selectedTimeFilter)
            Icon(CupertinoIcons.check_mark),
        ],
      ),
    ),
  ).toList(),
)
```

#### 2.3 è³‡æ–™å¡ç‰‡è¨­è¨ˆ
- **æ–°è³‡æ–™**: æ­£å¸¸é¡¯ç¤ºï¼Œç„¡ç‰¹æ®Šæ¨™è¨˜
- **èˆŠè³‡æ–™**: åœ¨ã€Œå…¨éƒ¨è³‡æ–™ã€æ¨¡å¼ä¸‹æ¨™è¨˜ã€Œè¼ƒèˆŠã€æ¨™ç±¤
- **æ™‚é–“è³‡è¨Š**: æ¸…æ¥šé¡¯ç¤ºè³‡æ–™çš„æª¢æ¸¬æ™‚é–“

### 3. äº’å‹•è¨­è¨ˆ

#### 3.1 æ“ä½œæµç¨‹
1. ä½¿ç”¨è€…é»æ“Šå³ä¸Šè§’æ™‚é˜æŒ‰éˆ•
2. å½ˆå‡ºæ™‚é–“ç¯„åœé¸æ“‡å™¨
3. ä½¿ç”¨è€…é¸æ“‡æ™‚é–“ç¯„åœ
4. ç³»çµ±è‡ªå‹•éæ¿¾ä¸¦æ›´æ–°é¡¯ç¤º
5. æä¾›è¦–è¦ºå›é¥‹ç¢ºèªæ“ä½œæˆåŠŸ

#### 3.2 éŒ¯èª¤è™•ç†
- ç„¡è³‡æ–™æ™‚é¡¯ç¤ºé©ç•¶çš„ç©ºç‹€æ…‹
- éæ¿¾å¤±æ•—æ™‚é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
- ç¶²è·¯å•é¡Œæ™‚æä¾›é‡è©¦é¸é …

## ğŸ§ª æ¸¬è©¦è¦ç¯„

### 1. æ¸¬è©¦ç­–ç•¥

#### 1.1 æ¸¬è©¦åˆ†é¡
- **å–®å…ƒæ¸¬è©¦**: æ¸¬è©¦éæ¿¾é‚è¼¯å’Œç‹€æ…‹ç®¡ç†
- **Widget æ¸¬è©¦**: æ¸¬è©¦ UI çµ„ä»¶æ¸²æŸ“å’Œäº’å‹•
- **æ•´åˆæ¸¬è©¦**: æ¸¬è©¦å®Œæ•´çš„ä½¿ç”¨è€…æµç¨‹
- **æ•ˆèƒ½æ¸¬è©¦**: æ¸¬è©¦éæ¿¾æ•ˆèƒ½å’Œè¨˜æ†¶é«”ä½¿ç”¨

#### 1.2 æ¸¬è©¦è¦†è“‹ç‡ç›®æ¨™
- ç¨‹å¼ç¢¼è¦†è“‹ç‡: â‰¥ 90%
- åˆ†æ”¯è¦†è“‹ç‡: â‰¥ 95%
- åŠŸèƒ½è¦†è“‹ç‡: 100%

### 2. æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ

#### 2.1 å–®å…ƒæ¸¬è©¦æ¡ˆä¾‹

##### 2.1.1 æ™‚é–“éæ¿¾é‚è¼¯æ¸¬è©¦
```dart
test('1å°æ™‚éæ¿¾æ¨¡å¼ä¸‹åªé¡¯ç¤ºæœ€è¿‘1å°æ™‚çš„è³‡æ–™', () {
  // Arrange: è¨­å®šæ¸¬è©¦è³‡æ–™
  final now = DateTime.now();
  final testRecords = [
    AqiRecord(datacreationdate: now.subtract(Duration(minutes: 30))), // 30åˆ†é˜å‰
    AqiRecord(datacreationdate: now.subtract(Duration(hours: 2))),    // 2å°æ™‚å‰
  ];
  
  // Act: è¨­å®š1å°æ™‚éæ¿¾ä¸¦è¼‰å…¥è³‡æ–™
  provider.setTimeFilter(TimeFilterOption.oneHour);
  provider.setTestData(testRecords);
  
  // Assert: é©—è­‰åªé¡¯ç¤º30åˆ†é˜å‰çš„è³‡æ–™
  expect(provider.filteredRecords.length, 1);
  expect(provider.filteredRecords.first.datacreationdate, 
         now.subtract(Duration(minutes: 30)));
});
```

##### 2.1.2 ç‹€æ…‹ç®¡ç†æ¸¬è©¦
```dart
test('åˆ‡æ›æ™‚é–“éæ¿¾é¸é …æ™‚æ­£ç¢ºæ›´æ–°ç‹€æ…‹', () {
  // Arrange: åˆå§‹ç‹€æ…‹
  expect(provider.selectedTimeFilter, TimeFilterOption.threeHours);
  
  // Act: åˆ‡æ›åˆ°1å°æ™‚
  provider.setTimeFilter(TimeFilterOption.oneHour);
  
  // Assert: é©—è­‰ç‹€æ…‹æ›´æ–°
  expect(provider.selectedTimeFilter, TimeFilterOption.oneHour);
});
```

##### 2.1.3 é‚Šç•Œæ¢ä»¶æ¸¬è©¦
```dart
test('ç©ºè³‡æ–™æ™‚çš„éæ¿¾è¡Œç‚º', () {
  // Arrange: ç©ºè³‡æ–™
  provider.setTestData([]);
  
  // Act: è¨­å®šå„ç¨®éæ¿¾é¸é …
  provider.setTimeFilter(TimeFilterOption.oneHour);
  
  // Assert: é©—è­‰è¿”å›ç©ºåˆ—è¡¨
  expect(provider.filteredRecords, isEmpty);
});
```

#### 2.2 Widget æ¸¬è©¦æ¡ˆä¾‹

##### 2.2.1 UI æ¸²æŸ“æ¸¬è©¦
```dart
testWidgets('æ™‚é–“éæ¿¾æŒ‰éˆ•æ­£ç¢ºé¡¯ç¤ºç•¶å‰é¸é …', (tester) async {
  // Arrange: å»ºç«‹æ¸¬è©¦ç’°å¢ƒ
  await tester.pumpWidget(
    MaterialApp(
      home: ChangeNotifierProvider(
        create: (_) => AqiProvider(),
        child: AqiDataPage(),
      ),
    ),
  );
  
  // Assert: é©—è­‰æŒ‰éˆ•é¡¯ç¤ºé è¨­é¸é …
  expect(find.text('3å°æ™‚'), findsOneWidget);
  expect(find.byIcon(CupertinoIcons.clock_fill), findsOneWidget);
});
```

##### 2.2.2 äº’å‹•æ¸¬è©¦
```dart
testWidgets('é»æ“Šæ™‚é–“éæ¿¾æŒ‰éˆ•é¡¯ç¤ºé¸æ“‡å™¨', (tester) async {
  // Arrange: å»ºç«‹æ¸¬è©¦ç’°å¢ƒ
  await tester.pumpWidget(/* ... */);
  
  // Act: é»æ“Šæ™‚é–“éæ¿¾æŒ‰éˆ•
  await tester.tap(find.byType(CupertinoButton));
  await tester.pumpAndSettle();
  
  // Assert: é©—è­‰é¸æ“‡å™¨å½ˆå‡º
  expect(find.text('é¸æ“‡æ™‚é–“ç¯„åœ'), findsOneWidget);
  expect(find.text('1å°æ™‚'), findsOneWidget);
  expect(find.text('å…¨éƒ¨è³‡æ–™'), findsOneWidget);
});
```

##### 2.2.3 é¸æ“‡å™¨äº’å‹•æ¸¬è©¦
```dart
testWidgets('é¸æ“‡æ™‚é–“ç¯„åœå¾Œæ­£ç¢ºæ›´æ–°é¡¯ç¤º', (tester) async {
  // Arrange: å»ºç«‹æ¸¬è©¦ç’°å¢ƒä¸¦é¡¯ç¤ºé¸æ“‡å™¨
  await tester.pumpWidget(/* ... */);
  await tester.tap(find.byType(CupertinoButton));
  await tester.pumpAndSettle();
  
  // Act: é¸æ“‡1å°æ™‚é¸é …
  await tester.tap(find.text('1å°æ™‚'));
  await tester.pumpAndSettle();
  
  // Assert: é©—è­‰æŒ‰éˆ•æ–‡å­—æ›´æ–°
  expect(find.text('1å°æ™‚'), findsOneWidget);
});
```

#### 2.3 æ•´åˆæ¸¬è©¦æ¡ˆä¾‹

##### 2.3.1 å®Œæ•´æµç¨‹æ¸¬è©¦
```dart
testWidgets('å®Œæ•´æ™‚é–“éæ¿¾æµç¨‹æ¸¬è©¦', (tester) async {
  // Arrange: å»ºç«‹æ¸¬è©¦ç’°å¢ƒ
  final provider = AqiProvider();
  await tester.pumpWidget(
    MaterialApp(
      home: ChangeNotifierProvider.value(
        value: provider,
        child: AqiDataPage(),
      ),
    ),
  );
  
  // Act: åŸ·è¡Œå®Œæ•´æµç¨‹
  await tester.tap(find.byType(CupertinoButton));
  await tester.pumpAndSettle();
  await tester.tap(find.text('6å°æ™‚'));
  await tester.pumpAndSettle();
  
  // Assert: é©—è­‰çµæœ
  expect(provider.selectedTimeFilter, TimeFilterOption.sixHours);
  expect(find.text('6å°æ™‚'), findsOneWidget);
});
```

### 3. æ•ˆèƒ½æ¸¬è©¦

#### 3.1 éæ¿¾æ•ˆèƒ½æ¸¬è©¦
```dart
test('å¤§é‡è³‡æ–™éæ¿¾æ•ˆèƒ½æ¸¬è©¦', () {
  // Arrange: å»ºç«‹å¤§é‡æ¸¬è©¦è³‡æ–™
  final now = DateTime.now();
  final testRecords = List.generate(1000, (index) => 
    AqiRecord(datacreationdate: now.subtract(Duration(hours: index))));
  
  // Act: åŸ·è¡Œéæ¿¾æ“ä½œ
  final stopwatch = Stopwatch()..start();
  provider.setTestData(testRecords);
  provider.setTimeFilter(TimeFilterOption.oneHour);
  final filteredRecords = provider.filteredRecords;
  stopwatch.stop();
  
  // Assert: é©—è­‰æ•ˆèƒ½è¦æ±‚
  expect(stopwatch.elapsedMilliseconds, lessThan(100));
  expect(filteredRecords.length, greaterThan(0));
});
```

#### 3.2 è¨˜æ†¶é«”ä½¿ç”¨æ¸¬è©¦
```dart
test('éæ¿¾æ“ä½œè¨˜æ†¶é«”ä½¿ç”¨æ¸¬è©¦', () {
  // Arrange: è¨˜éŒ„åˆå§‹è¨˜æ†¶é«”ä½¿ç”¨
  final initialMemory = ProcessInfo.currentRss;
  
  // Act: åŸ·è¡Œå¤šæ¬¡éæ¿¾æ“ä½œ
  for (int i = 0; i < 100; i++) {
    provider.setTimeFilter(TimeFilterOption.values[i % 6]);
  }
  
  // Assert: é©—è­‰è¨˜æ†¶é«”ä½¿ç”¨åˆç†
  final finalMemory = ProcessInfo.currentRss;
  final memoryIncrease = finalMemory - initialMemory;
  expect(memoryIncrease, lessThan(10 * 1024 * 1024)); // 10MB
});
```

## ğŸ”§ å¯¦ä½œæŒ‡å—

### 1. é–‹ç™¼æµç¨‹

#### 1.1 é–‹ç™¼éšæ®µ
1. **éœ€æ±‚ç¢ºèª**: ç¢ºèªæ™‚é–“éæ¿¾éœ€æ±‚å’Œä½¿ç”¨å ´æ™¯
2. **è¨­è¨ˆéšæ®µ**: è¨­è¨ˆ UI å’Œè³‡æ–™æµ
3. **æ¸¬è©¦è¨­è¨ˆ**: æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹
4. **å¯¦ä½œéšæ®µ**: å¯¦ä½œæ ¸å¿ƒåŠŸèƒ½
5. **æ¸¬è©¦é©—è­‰**: åŸ·è¡Œæ¸¬è©¦ä¸¦ä¿®æ­£å•é¡Œ
6. **æ•´åˆæ¸¬è©¦**: èˆ‡å…¶ä»–åŠŸèƒ½æ•´åˆæ¸¬è©¦

#### 1.2 ç¨‹å¼ç¢¼å“è³ªè¦æ±‚
- éµå¾ª Dart å®˜æ–¹é¢¨æ ¼æŒ‡å—
- ä½¿ç”¨ flutter_lints é€²è¡Œéœæ…‹åˆ†æ
- ä¿æŒå‡½æ•¸ç°¡æ½”ï¼Œå–®ä¸€è·è²¬åŸå‰‡
- é©ç•¶çš„è¨»è§£å’Œæ–‡ä»¶

### 2. å¯¦ä½œè¦é»

#### 2.1 ç‹€æ…‹ç®¡ç†
```dart
class AqiProvider extends ChangeNotifier {
  TimeFilterOption _selectedTimeFilter = TimeFilterOption.threeHours;
  
  // å…¬é–‹ getter
  TimeFilterOption get selectedTimeFilter => _selectedTimeFilter;
  
  // ç‹€æ…‹æ›´æ–°æ–¹æ³•
  void setTimeFilter(TimeFilterOption option) {
    if (_selectedTimeFilter != option) {
      _selectedTimeFilter = option;
      notifyListeners();
    }
  }
}
```

#### 2.2 éæ¿¾é‚è¼¯
```dart
List<AqiRecord> get filteredRecords {
  if (_selectedTimeFilter.duration != null) {
    final filterTime = DateTime.now().subtract(_selectedTimeFilter.duration!);
    return _records.where((record) => 
      record.datacreationdate.isAfter(filterTime)).toList();
  } else {
    return List<AqiRecord>.from(_records);
  }
}
```

#### 2.3 UI å¯¦ä½œ
```dart
void _showTimeFilterPicker(BuildContext context, AqiProvider aqiProvider) {
  showCupertinoModalPopup<void>(
    context: context,
    builder: (BuildContext context) => CupertinoActionSheet(
      title: const Text('é¸æ“‡æ™‚é–“ç¯„åœ'),
      actions: aqiProvider.availableTimeFilters.map((option) =>
        CupertinoActionSheetAction(
          onPressed: () {
            aqiProvider.setTimeFilter(option);
            Navigator.pop(context);
          },
          child: Text(option.label),
        ),
      ).toList(),
    ),
  );
}
```

### 3. éŒ¯èª¤è™•ç†

#### 3.1 ç•°å¸¸æƒ…æ³è™•ç†
```dart
List<AqiRecord> get filteredRecords {
  try {
    if (_records.isEmpty) return [];
    
    if (_selectedTimeFilter.duration != null) {
      final filterTime = DateTime.now().subtract(_selectedTimeFilter.duration!);
      return _records.where((record) => 
        record.datacreationdate.isAfter(filterTime)).toList();
    } else {
      return List<AqiRecord>.from(_records);
    }
  } catch (e, stack) {
    log.e('æ™‚é–“éæ¿¾å¤±æ•—', e, stack);
    return _records; // ç™¼ç”ŸéŒ¯èª¤æ™‚è¿”å›åŸå§‹è³‡æ–™
  }
}
```

#### 3.2 æ—¥èªŒè¨˜éŒ„
```dart
void setTimeFilter(TimeFilterOption option) {
  if (_selectedTimeFilter != option) {
    final log = AppLogger('AqiProvider');
    log.i('åˆ‡æ›æ™‚é–“éæ¿¾é¸é …: ${option.label}');
    
    _selectedTimeFilter = option;
    notifyListeners();
    
    log.d('éæ¿¾å¾Œè³‡æ–™æ•¸é‡: ${filteredRecords.length} ç­†');
  }
}
```

## ğŸ“Š é©—æ”¶æ¨™æº–

### 1. åŠŸèƒ½é©—æ”¶æ¨™æº–
- [ ] æ”¯æ´æ‰€æœ‰é è¨­æ™‚é–“ç¯„åœé¸é …
- [ ] éæ¿¾é‚è¼¯æ­£ç¢ºï¼Œè³‡æ–™æº–ç¢º
- [ ] UI äº’å‹•æµæš¢ï¼ŒéŸ¿æ‡‰åŠæ™‚
- [ ] ç‹€æ…‹ç®¡ç†æ­£ç¢ºï¼Œç„¡è¨˜æ†¶é«”æ´©æ¼
- [ ] éŒ¯èª¤è™•ç†å®Œå–„ï¼Œç•°å¸¸æƒ…æ³å¦¥å–„è™•ç†

### 2. æ•ˆèƒ½é©—æ”¶æ¨™æº–
- [ ] éæ¿¾æ“ä½œåœ¨ 100ms å…§å®Œæˆ
- [ ] è¨˜æ†¶é«”ä½¿ç”¨åˆç†ï¼Œç„¡æ˜é¡¯æ´©æ¼
- [ ] UI éŸ¿æ‡‰æ€§è‰¯å¥½ï¼Œç„¡å¡é “ç¾è±¡
- [ ] å¤§é‡è³‡æ–™è™•ç†æ•ˆèƒ½å¯æ¥å—

### 3. å“è³ªé©—æ”¶æ¨™æº–
- [ ] æ¸¬è©¦è¦†è“‹ç‡ â‰¥ 90%
- [ ] ç¨‹å¼ç¢¼é€šééœæ…‹åˆ†æ
- [ ] ç¬¦åˆ iOS è¨­è¨ˆè¦ç¯„
- [ ] ç„¡éšœç¤™åŠŸèƒ½æ”¯æ´

## ğŸ”„ ç¶­è­·èˆ‡è¿­ä»£

### 1. ç›£æ§æŒ‡æ¨™
- éæ¿¾æ“ä½œçš„å¹³å‡éŸ¿æ‡‰æ™‚é–“
- è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³
- ä½¿ç”¨è€…æ“ä½œæˆåŠŸç‡
- éŒ¯èª¤ç™¼ç”Ÿé »ç‡

### 2. è¿­ä»£å„ªåŒ–
- æ ¹æ“šä½¿ç”¨è€…åé¥‹å„ªåŒ– UI/UX
- æ ¹æ“šæ•ˆèƒ½ç›£æ§çµæœå„ªåŒ–éæ¿¾é‚è¼¯
- æ ¹æ“šä½¿ç”¨æ•¸æ“šèª¿æ•´é è¨­é¸é …
- æ–°å¢æ›´å¤šæ™‚é–“ç¯„åœé¸é …

### 3. ç‰ˆæœ¬ç›¸å®¹æ€§
- ä¿æŒ API å‘å¾Œç›¸å®¹
- å¹³æ»‘å‡ç´šç­–ç•¥
- è³‡æ–™é·ç§»æ–¹æ¡ˆ
- å›æ»¾æ©Ÿåˆ¶

---

**æ–‡ä»¶ç‰ˆæœ¬**: 1.0.0  
**æœ€å¾Œæ›´æ–°**: 2025å¹´1æœˆ  
**é©ç”¨ç¯„åœ**: AQI æ™‚é–“éæ¿¾åŠŸèƒ½é–‹ç™¼  
**åƒè€ƒè¦ç¯„**: RULES.md, iOS è¨­è¨ˆè¦ç¯„, æ¸¬è©¦è¦ç¯„
