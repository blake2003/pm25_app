---
alwaysApply: false
---

# iOS é¢¨æ ¼è¨­è¨ˆè¦ç¯„

## ğŸ“± æ ¸å¿ƒè¨­è¨ˆåŸå‰‡

æœ¬æ–‡ä»¶å®šç¾©äº† PM25 æ‡‰ç”¨ç¨‹å¼çš„ iOS é¢¨æ ¼è¨­è¨ˆè¦ç¯„ï¼Œç¢ºä¿æ‡‰ç”¨ç¨‹å¼æä¾›å„ªç§€çš„ä½¿ç”¨è€…é«”é©—ã€‚

**æ ¸å¿ƒè¨­è¨ˆåŸå‰‡ï¼š**
- **éˆæ´»é¸æ“‡ UI æ¡†æ¶**ï¼šå¯é¸æ“‡ Cupertinoã€Material Design æˆ–æ··åˆä½¿ç”¨
- **ä»¥ä½¿ç”¨è€…é«”é©—ç‚ºä¸­å¿ƒ**ï¼šå„ªå…ˆè€ƒæ…®åŠŸèƒ½æ€§å’Œæ˜“ç”¨æ€§
- **ä¿æŒè¨­è¨ˆä¸€è‡´æ€§**ï¼šç„¡è«–é¸æ“‡å“ªç¨®æ¡†æ¶ï¼Œéƒ½è¦ä¿æŒæ•´é«”è¨­è¨ˆçš„ä¸€è‡´æ€§
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šé©é…ä¸åŒ iOS è£ç½®å’Œè¢å¹•å°ºå¯¸
- **é©ç•¶ä½¿ç”¨å¡ç‰‡å¼è¨­è¨ˆ**ï¼šä¸è¦éåº¦ä½¿ç”¨ï¼Œä¿æŒç°¡æ½”

## ğŸ¨ UI æ¡†æ¶é¸æ“‡ç­–ç•¥

### 1. æ¡†æ¶é¸æ“‡åŸå‰‡
```dart
// âœ… éˆæ´»é¸æ“‡ï¼šæ ¹æ“šåŠŸèƒ½éœ€æ±‚é¸æ“‡æœ€é©åˆçš„æ¡†æ¶
// é¸é … 1ï¼šç´” Cupertino é¢¨æ ¼
import 'package:flutter/cupertino.dart';

// é¸é … 2ï¼šç´” Material Design é¢¨æ ¼  
import 'package:flutter/material.dart';

// é¸é … 3ï¼šæ··åˆä½¿ç”¨ï¼ˆæ¨è–¦ï¼‰
import 'package:flutter/material.dart';
import 'package:flutter/cupertino.dart';
```

### 2. æ··åˆä½¿ç”¨ç­–ç•¥
```dart
// âœ… æ¨è–¦ï¼šæ ¹æ“šä¸åŒé é¢éœ€æ±‚é¸æ“‡æœ€é©åˆçš„æ¡†æ¶
class FlexibleDesignScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ç©ºæ°£å“è³ª'),
        // ä½¿ç”¨ Material Design çš„ AppBarï¼Œä½†ä¿æŒ iOS é¢¨æ ¼
        backgroundColor: CupertinoColors.systemBackground,
        elevation: 0,
      ),
      body: SafeArea(
        child: Column(
          children: [
            // ä½¿ç”¨ Cupertino é¢¨æ ¼çš„å¡ç‰‡
            _buildCupertinoCard(),
            // ä½¿ç”¨ Material Design çš„åˆ—è¡¨
            _buildMaterialList(),
          ],
        ),
      ),
    );
  }
}
```

### 3. æ¡†æ¶é¸æ“‡æŒ‡å—

| åŠŸèƒ½é¡å‹ | æ¨è–¦æ¡†æ¶ | åŸå›  |
|---------|---------|------|
| å°èˆªå’Œé é¢çµæ§‹ | Material Design | æ›´éˆæ´»çš„ä½ˆå±€é¸é … |
| è¡¨å–®è¼¸å…¥ | Cupertino | iOS åŸç”Ÿè¼¸å…¥é«”é©— |
| åˆ—è¡¨å’Œå¡ç‰‡ | æ··åˆä½¿ç”¨ | æ ¹æ“šå…§å®¹è¤‡é›œåº¦é¸æ“‡ |
| å°è©±æ¡†å’Œå½ˆçª— | Cupertino | iOS åŸç”Ÿå°è©±é«”é©— |
| æŒ‰éˆ•å’Œäº’å‹• | æ··åˆä½¿ç”¨ | æ ¹æ“šä¸Šä¸‹æ–‡é¸æ“‡ |

## ğŸ¨ è‰²å½©ç³»çµ±

### 1. çµ±ä¸€è‰²å½©å®šç¾©
```dart
// âœ… çµ±ä¸€è‰²å½©ç³»çµ±ï¼Œæ”¯æ´å¤šç¨®æ¡†æ¶
class AppColors {
  // ä¸»è¦è‰²å½© - æ”¯æ´ Material å’Œ Cupertino
  static const primary = Color(0xFF007AFF); // iOS Blue
  static const success = Color(0xFF34C759); // iOS Green
  static const warning = Color(0xFFFF9500); // iOS Orange
  static const error = Color(0xFFFF3B30);   // iOS Red
  
  // èƒŒæ™¯è‰²å½©
  static const background = Color(0xFFF2F2F7); // iOS Light Gray
  static const cardBackground = Color(0xFFFFFFFF);
  
  // æ–‡å­—è‰²å½©
  static const primaryText = Color(0xFF000000);
  static const secondaryText = Color(0xFF8E8E93);
  
  // AQI è‰²å½©å°æ‡‰
  static Color getAqiColor(double pm25) {
    if (pm25 <= 12) return success;
    if (pm25 <= 35.4) return warning;
    if (pm25 <= 55.4) return Color(0xFFFF6B35); // æ·±æ©™è‰²
    if (pm25 <= 150.4) return error;
    return Color(0xFFAF52DE); // ç´«è‰²
  }
}
```

### 2. æ·±è‰²æ¨¡å¼æ”¯æ´
```dart
// âœ… æ”¯æ´æ·±è‰²æ¨¡å¼çš„è‰²å½©ç³»çµ±
class AppTheme {
  static ThemeData get lightTheme => ThemeData(
    primaryColor: AppColors.primary,
    scaffoldBackgroundColor: AppColors.background,
    cardColor: AppColors.cardBackground,
    textTheme: TextTheme(
      bodyText1: TextStyle(color: AppColors.primaryText),
      bodyText2: TextStyle(color: AppColors.secondaryText),
    ),
  );
  
  static CupertinoThemeData get cupertinoLightTheme => CupertinoThemeData(
    primaryColor: AppColors.primary,
    scaffoldBackgroundColor: AppColors.background,
    textTheme: CupertinoTextThemeData(
      textStyle: TextStyle(color: AppColors.primaryText),
    ),
  );
}
```

## ğŸ“ å­—é«”ç³»çµ±

### 1. çµ±ä¸€å­—é«”å®šç¾©
```dart
// âœ… çµ±ä¸€å­—é«”ç³»çµ±ï¼Œæ”¯æ´å¤šç¨®æ¡†æ¶
class AppTypography {
  // ä¸»è¦å­—é«”
  static const String fontFamily = 'SF Pro Display'; // iOS ç³»çµ±å­—é«”
  
  // å­—é«”å¤§å°å’Œæ¬Šé‡
  static TextStyle get largeTitle => TextStyle(
    fontSize: 34, fontWeight: FontWeight.w700, fontFamily: fontFamily);
  
  static TextStyle get title1 => TextStyle(
    fontSize: 28, fontWeight: FontWeight.w600, fontFamily: fontFamily);
  
  static TextStyle get headline => TextStyle(
    fontSize: 17, fontWeight: FontWeight.w600, fontFamily: fontFamily);
  
  static TextStyle get body => TextStyle(
    fontSize: 17, fontWeight: FontWeight.w400, fontFamily: fontFamily);
  
  static TextStyle get caption => TextStyle(
    fontSize: 12, fontWeight: FontWeight.w400, fontFamily: fontFamily);
}
```

### 2. å­—é«”ä½¿ç”¨åŸå‰‡
- **ä¸€è‡´æ€§**ï¼šæ•´å€‹æ‡‰ç”¨ä½¿ç”¨çµ±ä¸€çš„å­—é«”ç³»çµ±
- **å±¤ç´šåˆ†æ˜**ï¼šä½¿ç”¨ä¸åŒå­—é«”å¤§å°å»ºç«‹è¦–è¦ºå±¤ç´š
- **å¯è®€æ€§**ï¼šç¢ºä¿æ–‡å­—åœ¨ä¸åŒèƒŒæ™¯ä¸‹éƒ½æ¸…æ™°å¯è®€
- **å‹•æ…‹å­—é«”**ï¼šæ”¯æ´ç³»çµ±å‹•æ…‹å­—é«”å¤§å°è¨­å®š

## ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ

### 1. è£ç½®é©é…
```dart
// âœ… éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æ´å¤šç¨®æ¡†æ¶
class ResponsiveDesign {
  static Widget buildResponsiveLayout(BuildContext context, {
    required Widget mobileLayout,
    required Widget tabletLayout,
    Widget? desktopLayout,
  }) {
    final screenWidth = MediaQuery.of(context).size.width;
    
    if (screenWidth > 1024 && desktopLayout != null) {
      return desktopLayout;
    } else if (screenWidth > 768) {
      return tabletLayout;
    } else {
      return mobileLayout;
    }
  }
  
  static bool isIPad(BuildContext context) {
    return MediaQuery.of(context).size.width > 768;
  }
}
```

### 2. ä½ˆå±€åŸå‰‡
- **iPhone é©é…**ï¼šé‡å°ä¸åŒ iPhone è¢å¹•å°ºå¯¸å„ªåŒ–
- **iPad é©é…**ï¼šåˆ©ç”¨ iPad å¤§è¢å¹•æä¾›æ›´å¥½çš„å¤šæ¬„ä½ä½ˆå±€
- **æ©«è±å±æ”¯æ´**ï¼šç¢ºä¿åœ¨æ—‹è½‰æ™‚ä¿æŒè‰¯å¥½çš„ä½¿ç”¨è€…é«”é©—
- **å®‰å…¨å€åŸŸ**ï¼šæ­£ç¢ºè™•ç†åŠ‰æµ·å±å’Œåº•éƒ¨æŒ‡ç¤ºå™¨

## ğŸ¨ å…ƒä»¶è¨­è¨ˆ

### 1. å¡ç‰‡è¨­è¨ˆ
```dart
// âœ… çµ±ä¸€çš„å¡ç‰‡è¨­è¨ˆï¼Œæ”¯æ´å¤šç¨®æ¡†æ¶
class AppCard extends StatelessWidget {
  final Widget child;
  final EdgeInsetsGeometry? margin;
  final EdgeInsetsGeometry? padding;
  final Color? backgroundColor;
  final double? elevation;
  final double? borderRadius;
  
  const AppCard({
    Key? key,
    required this.child,
    this.margin,
    this.padding,
    this.backgroundColor,
    this.elevation = 2.0,
    this.borderRadius = 12.0,
  }) : super(key: key);
  
  @override
  Widget build(BuildContext context) {
    // å¯é¸æ“‡ Material æˆ– Cupertino é¢¨æ ¼
    return Container(
      margin: margin ?? EdgeInsets.all(16),
      decoration: BoxDecoration(
        color: backgroundColor ?? AppColors.cardBackground,
        borderRadius: BorderRadius.circular(borderRadius!),
        boxShadow: [
          BoxShadow(
            color: Colors.black.withOpacity(0.1),
            blurRadius: elevation!,
            offset: Offset(0, 2),
          ),
        ],
      ),
      child: Padding(
        padding: padding ?? EdgeInsets.all(16),
        child: child,
      ),
    );
  }
}
```

### 2. æŒ‰éˆ•è¨­è¨ˆ
```dart
// âœ… çµ±ä¸€çš„æŒ‰éˆ•è¨­è¨ˆ
class AppButton extends StatelessWidget {
  final String text;
  final VoidCallback? onPressed;
  final ButtonType type;
  final bool isLoading;
  
  const AppButton({
    Key? key,
    required this.text,
    this.onPressed,
    this.type = ButtonType.primary,
    this.isLoading = false,
  }) : super(key: key);
  
  @override
  Widget build(BuildContext context) {
    // å¯é¸æ“‡ Material æˆ– Cupertino æŒ‰éˆ•
    return Material(
      color: Colors.transparent,
      child: InkWell(
        onTap: isLoading ? null : onPressed,
        borderRadius: BorderRadius.circular(8),
        child: Container(
          padding: EdgeInsets.symmetric(horizontal: 24, vertical: 12),
          decoration: BoxDecoration(
            color: _getButtonColor(),
            borderRadius: BorderRadius.circular(8),
          ),
          child: Row(
            mainAxisSize: MainAxisSize.min,
            children: [
              if (isLoading) ...[
                SizedBox(
                  width: 16,
                  height: 16,
                  child: CircularProgressIndicator(
                    strokeWidth: 2,
                    valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                  ),
                ),
                SizedBox(width: 8),
              ],
              Text(
                text,
                style: TextStyle(
                  color: Colors.white,
                  fontWeight: FontWeight.w600,
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
  
  Color _getButtonColor() {
    switch (type) {
      case ButtonType.primary:
        return AppColors.primary;
      case ButtonType.secondary:
        return AppColors.secondaryText;
      case ButtonType.success:
        return AppColors.success;
      case ButtonType.error:
        return AppColors.error;
    }
  }
}

enum ButtonType { primary, secondary, success, error }
```

## â³ ç‹€æ…‹è™•ç†

### 1. è¼‰å…¥ç‹€æ…‹
```dart
// âœ… çµ±ä¸€çš„è¼‰å…¥ç‹€æ…‹è¨­è¨ˆ
class AppLoadingWidget extends StatelessWidget {
  final String? message;
  
  const AppLoadingWidget({Key? key, this.message}) : super(key: key);
  
  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          // å¯é¸æ“‡ Material æˆ– Cupertino è¼‰å…¥æŒ‡ç¤ºå™¨
          CircularProgressIndicator(
            valueColor: AlwaysStoppedAnimation<Color>(AppColors.primary),
          ),
          if (message != null) ...[
            SizedBox(height: 16),
            Text(
              message!,
              style: AppTypography.body,
              textAlign: TextAlign.center,
            ),
          ],
        ],
      ),
    );
  }
}
```

### 2. éŒ¯èª¤ç‹€æ…‹
```dart
// âœ… çµ±ä¸€çš„éŒ¯èª¤ç‹€æ…‹è¨­è¨ˆ
class AppErrorWidget extends StatelessWidget {
  final String error;
  final VoidCallback? onRetry;
  
  const AppErrorWidget({
    Key? key,
    required this.error,
    this.onRetry,
  }) : super(key: key);
  
  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Icon(
            Icons.error_outline,
            size: 48,
            color: AppColors.error,
          ),
          SizedBox(height: 16),
          Text(
            error,
            style: AppTypography.body,
            textAlign: TextAlign.center,
          ),
          if (onRetry != null) ...[
            SizedBox(height: 16),
            AppButton(
              text: 'é‡è©¦',
              onPressed: onRetry,
              type: ButtonType.primary,
            ),
          ],
        ],
      ),
    );
  }
}
```

## ğŸ”„ è¨­è¨ˆè¿­ä»£

### 1. åé¥‹æ”¶é›†èˆ‡æ”¹é€²
- **ä½¿ç”¨è€…åé¥‹**ï¼šæ”¶é›†ä½¿ç”¨è€…æ„è¦‹å’Œå»ºè­°
- **æ•¸æ“šåˆ†æ**ï¼šè¿½è¹¤ä½¿ç”¨è€…è¡Œç‚ºå’Œä½¿ç”¨æ¨¡å¼
- **å¿«é€ŸåŸå‹**ï¼šä½¿ç”¨ Flutter å¿«é€Ÿå»ºç«‹åŸå‹
- **A/B æ¸¬è©¦**ï¼šæ¯”è¼ƒä¸åŒè¨­è¨ˆæ–¹æ¡ˆ
- **æŒçºŒæ”¹é€²**ï¼šæ ¹æ“šåé¥‹æŒçºŒå„ªåŒ–è¨­è¨ˆ

### 2. ç‰ˆæœ¬æ§åˆ¶
- **è¨­è¨ˆè®Šæ›´è¿½è¹¤**ï¼šè¨˜éŒ„æ¯æ¬¡è¨­è¨ˆè®Šæ›´
- **æ±ºç­–æ–‡æª”**ï¼šè¨˜éŒ„è¨­è¨ˆæ±ºç­–å’ŒåŸå› 
- **è¦ç¯„æ›´æ–°**ï¼šå®šæœŸæ›´æ–°è¨­è¨ˆè¦ç¯„

## ğŸ“‹ è¨­è¨ˆæª¢æŸ¥æ¸…å–®

### é–‹ç™¼å‰
- [ ] é¸æ“‡é©åˆçš„ UI æ¡†æ¶ï¼ˆMaterial/Cupertino/æ··åˆï¼‰
- [ ] è¨­è¨ˆçµ±ä¸€çš„è‰²å½©ç³»çµ±
- [ ] è¦åŠƒéŸ¿æ‡‰å¼ä½ˆå±€
- [ ] å®šç¾©å­—é«”ç³»çµ±

### é–‹ç™¼ä¸­
- [ ] ä¿æŒè¨­è¨ˆä¸€è‡´æ€§
- [ ] æ”¯æ´æ·±è‰²æ¨¡å¼
- [ ] è™•ç†å®‰å…¨å€åŸŸå’Œé‚Šè·
- [ ] æä¾›é©ç•¶çš„è¼‰å…¥å’ŒéŒ¯èª¤ç‹€æ…‹
- [ ] ç¢ºä¿ç„¡éšœç¤™åŠŸèƒ½

### é–‹ç™¼å¾Œ
- [ ] åœ¨ä¸åŒ iOS è£ç½®ä¸Šæ¸¬è©¦
- [ ] é©—è­‰æ·±è‰²æ¨¡å¼é¡¯ç¤º
- [ ] æª¢æŸ¥ç„¡éšœç¤™åŠŸèƒ½
- [ ] æ”¶é›†ä½¿ç”¨è€…åé¥‹
- [ ] é€²è¡Œæ€§èƒ½å„ªåŒ–

## ğŸ¯ æœ€ä½³å¯¦è¸

### 1. æ¡†æ¶é¸æ“‡å»ºè­°
- **æ–°åŠŸèƒ½é–‹ç™¼**ï¼šå„ªå…ˆè€ƒæ…® Material Designï¼Œæä¾›æ›´å¤šè‡ªå®šç¾©é¸é …
- **iOS åŸç”Ÿé«”é©—**ï¼šç‰¹å®šåŠŸèƒ½ä½¿ç”¨ Cupertino widgets
- **æ··åˆä½¿ç”¨**ï¼šæ ¹æ“šé é¢éœ€æ±‚éˆæ´»é¸æ“‡

### 2. æ€§èƒ½å„ªåŒ–
- **å…ƒä»¶é‡ç”¨**ï¼šå»ºç«‹å¯é‡ç”¨çš„å…ƒä»¶åº«
- **æ‡¶åŠ è¼‰**ï¼šä½¿ç”¨ ListView.builder ç­‰æ‡¶åŠ è¼‰å…ƒä»¶
- **åœ–ç‰‡å„ªåŒ–**ï¼šä½¿ç”¨é©ç•¶çš„åœ–ç‰‡æ ¼å¼å’Œå¤§å°

### 3. å¯ç¶­è­·æ€§
- **æ¨¡çµ„åŒ–è¨­è¨ˆ**ï¼šå°‡ UI å…ƒä»¶æ¨¡çµ„åŒ–
- **çµ±ä¸€å‘½å**ï¼šä½¿ç”¨ä¸€è‡´çš„å‘½åè¦ç¯„
- **æ–‡æª”è¨˜éŒ„**ï¼šç‚ºè¤‡é›œå…ƒä»¶æä¾›æ–‡æª”

---

**æœ€å¾Œæ›´æ–°**: 2025å¹´07æœˆ  
**ç‰ˆæœ¬**: 2.0.0  
**é©ç”¨ç¯„åœ**: PM25 æ‡‰ç”¨ç¨‹å¼éˆæ´»è¨­è¨ˆè¦ç¯„ 